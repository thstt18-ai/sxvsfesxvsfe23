| №  | Функция                              | Цель                                        | Промт для ИИ-агента (1 строка)                                                                                                                |
| -- | ------------------------------------ | ------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------- |
| 1  | **UUPS-upgradeable proxy**           | новая логика без возврата средств           | «Сделай Router и Vault UUPS-upgradeable, деплой сохраняет proxy-адрес, upgrade-скрипт проверяет storage-layout и фейлит при изменении слотов» |
| 2  | **Meta-TX (EIP-2771 + EIP-2612)**    | вход без approve и без MATIC                | «Добавь EIP-2771 trusted-forwarder и EIP-2612 permit для всех токенов, скрипт permit-sign.ts генерирует off-chain подпись»                    |
| 3  | **Hardware-Wallet support**          | ключ не покидает устройство                 | «Сделай модуль packages/core/src/live/wallet.ts с поддержкой Ledger USB и encrypted keystore, выбор через config.wallet.type»                 |
| 4  | **Chainlink Proof-of-Reserve**       | hourly аудит lockedUSDC ≥ totalShares       | «Добавь Chainlink Proof-of-Reserve контракт и скрипт check-reserve.ts, результат в /logs/reserve.json»                                        |
| 5  | **Foundry + Slither CI-gate**        | high-severity > 0 = fail PR                 | «Добавь workflow foundry-slither.yml: forge test, slither --fail-high, byte-code-size guard, gas-snapshot diff, storage-layout diff = 0»      |
| 6  | **Byte-code size guard**             | предотвращает out-of-gas деплой             | «Добавь CI-шаг: warning при >24 KB, fail при >24.5 KB»                                                                                        |
| 7  | **Storage-layout diff gate**         | migration-free upgrade                      | «Добавь CI-шаг storage-layout-diff: fail + коммент “need migration” при изменении слотов»                                                     |
| 8  | **Mainnet-CI gate (manual approve)** | исключает случайный прод-деплой             | «Создай workflow deploy-mainnet.yml: требует ручного approve в GitHub UI, после approve – деплой и verify»                                    |
| 9  | **Hardware-sign CI-artifact**        | подпись deploy-транзакции через Ledger в CI | «Сделай скрипт ci-sign-ledger.ts: подключает Ledger к runner-у, подписывает deploy-транзакцию, выводит tx-hash»                               |
| 10 | **Prometheus-metrics endpoint**      | внешний мониторинг (Grafana)                | «Добавь endpoint /metrics в packages/core/src/metrics.ts: equity, win-rate, gas-spent, Sharpe, порт 9090»                                     |
